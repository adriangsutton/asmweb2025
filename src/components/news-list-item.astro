---
import { Image } from "astro:assets";

const { title, date, cover, compiledContent } = Astro.props;

const formattedDate = new Date(date);
---

<div class="bg-secondaryDark p-[1px] rounded-md">
  <div
    class="flex flex-col gap-2 p-3 bg-secondaryDark rounded-md drop-shadow-lg relative overflow-hidden border border-white/30"
  >
    <div class="flex flex-row items-center justify-between w-2/3 z-10">
      <p class="font-bold text-xs md:text-base">
        {
          formattedDate.toLocaleString("en-GB", {
            day: "2-digit",
            month: "2-digit",
            year: "2-digit",
          })
        }
      </p>
    </div>
    <h4
      class="font-bold z-10 text-[15px] md:text-lg shadow-white drop-shadow-[0_1px_0px_var(--tw-shadow-color)]"
    >
      {title}
    </h4>
    <span class="font-light w-2/3 z-10 text-xs md:text-base">
      <Fragment set:html={compiledContent} />
    </span>
    <div class="w-1/3 absolute right-0 top-0 h-full z-0">
      <Image
        src={cover}
        alt=""
        class="h-full object-cover opacity-50 md:opacity-100"
      />
      <div
        class="absolute top-0 left-0 h-full w-full bg-gradient-to-r from-secondaryDark to-transparent"
      >
      </div>
    </div>
  </div>
</div>
